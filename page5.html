<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calpico</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Special+Elite&display=swap');

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      cursor: url("Images/cursor.png"), auto;
    }

    body {
      display: flex;
      font-family: 'Special Elite', monospace;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background-color: #FFF3D6;
      color: #9A8E9A;
    }

    .bg {
      position: fixed;
      inset: 0;
      z-index: 0;
      overflow: hidden;
    }

    /* ✅ 背景 Calpico 更大（配合脚本 IMG_W/IMG_H） */
    .calpico {
      position: absolute;
      width: 140px;
      height: 140px;
      background-image: url("Images/calpico2.png");
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.5;
      pointer-events: none;
      will-change: transform;
    }

    .card {
      position: relative;
      z-index: 2;
      width: min(880px, 90vw);
      height: min(640px, 80vh);
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      align-items: stretch;
      padding: 2rem 1.5rem;
      border-radius: 16px;
    }

    .title {
      font-size: clamp(20px, 3.2vw, 34px);
      font-weight: 700;
      letter-spacing: 0.02em;
      margin: 0 0 1rem 0;
      padding: 0.2rem 0.4rem;
      align-self: center;
      text-align: center;
      pointer-events: auto;
      user-select: none;
      color: #202446;
    }

    .poem {
      font-family: 'Special Elite', monospace;
      flex: 1 1 auto;
      overflow: auto;

      padding: 1rem 2.5rem;
      column-count: 2;
      column-gap: 4rem;

      line-height: 1.8;
      font-size: clamp(15px, 1.8vw, 20px);
      white-space: pre-wrap;

      color: #9A8E9A;
      text-align: left;

      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    .poem::-webkit-scrollbar {
      display: none;
      width: 0;
      height: 0;
    }

    @media (max-width: 680px) {
      .poem {
        column-count: 1;
        column-gap: 0;
        padding: 1rem 1.2rem;
        text-align: center;
      }
    }

    .back {
      display: inline-block;
      font-size: 1.5em;
      color: #9A8E9A;
      text-decoration: none;
      padding: 8px 18px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.4);
      align-self: center;
      cursor: url("Images/cursor.png"), auto;

      background: rgba(255,255,255,0.10);
      backdrop-filter: blur(6px);

      transition:
        transform 0.25s ease,
        background-color 0.25s ease,
        box-shadow 0.25s ease,
        color 0.25s ease;
    }

    .back:hover {
      background: rgba(255,255,255,0.22);
      color: #fff;
      transform: scale(1.08);
      box-shadow: 0 0 18px rgba(255,255,255,0.35);
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>

  <main class="card" role="main" aria-labelledby="page-title">
    <h1 id="page-title" class="title">Calpico...</h1>

    <div class="poem" tabindex="0" aria-label="诗歌内容（可滑动）">
The refrigerator door slid open softly,
The white bottle gleaming in the cool light,
Like a comfort yet to be spoken.
The cap unscrewed with a faint click,
Yet echoed clearly within me—
Today, too, can carry on.

Bubbles rise slowly,
like hesitant emotions lifted bit by bit.
The first sip touches my tongue,
sweet and sour unfolding,
not fiery joy,
but just the right, unobtrusive tenderness.

It's not a celebratory drink,
yet it accompanies me
through countless moments unworthy of celebration.
On afternoons of weariness, disappointment,
gently knocked down by reality,
I steady myself again
with this sip of faintly tart sweetness.

When the world grows too dry, too sharp,
I use this cup of white liquid
to preserve a bit of softness for myself.
    </div>

    <a href="index.html" class="back">Back</a>
  </main>

  <script>
    // ====== 背景：生成网格 + 鼠标打乱（推开）+ 缓动回位 ======
    const bg = document.querySelector('.bg');


    const IMG_W = 300;
    const IMG_H = 300;
    const GAP_X = 60;
    const GAP_Y = 80;
    const JITTER = 6;

    const PUSH_RADIUS = 180; 
    const PUSH_FORCE = 45; 
    const EASE = 0.08;   

    let items = [];
    let mouseX = -9999, mouseY = -9999;

    function createPattern() {
      bg.innerHTML = '';
      items = [];

      const w = window.innerWidth;
      const h = window.innerHeight;

      const stepX = IMG_W + GAP_X;
      const stepY = IMG_H + GAP_Y;

      const cols = Math.ceil(w / stepX) + 1;
      const rows = Math.ceil(h / stepY) + 1;

      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const el = document.createElement('div');
          el.className = 'calpico';

          const baseLeft = c * stepX - IMG_W * 0.3 + (Math.random() * JITTER * 2 - JITTER);
          const baseTop  = r * stepY - IMG_H * 0.3 + (Math.random() * JITTER * 2 - JITTER);

          el.style.left = baseLeft + 'px';
          el.style.top  = baseTop + 'px';

          // 每个元素一个小小的随机大小变化（更自然）
          const s = 0.9 + Math.random() * 0.35; // 0.9~1.25
          el.dataset.scale = s.toFixed(3);

          bg.appendChild(el);

          items.push({
            el,
            baseLeft,
            baseTop,
            offsetX: 0,
            offsetY: 0,
            vx: 0,
            vy: 0,
            scale: s
          });
        }
      }
    }

    window.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    window.addEventListener('touchmove', (e) => {
      if (!e.touches || !e.touches[0]) return;
      mouseX = e.touches[0].clientX;
      mouseY = e.touches[0].clientY;
    }, { passive: true });

    function animate() {
      for (const it of items) {
        const cx = it.baseLeft + IMG_W / 2 + it.offsetX;
        const cy = it.baseTop  + IMG_H / 2 + it.offsetY;

        const dx = cx - mouseX;
        const dy = cy - mouseY;
        const dist = Math.hypot(dx, dy);


        if (dist < PUSH_RADIUS) {
          const t = 1 - dist / PUSH_RADIUS;
          const nx = dx / (dist + 0.0001);
          const ny = dy / (dist + 0.0001);

          it.vx += nx * (PUSH_FORCE * t) * 0.12 + (Math.random() - 0.5) * 0.20 * t;
          it.vy += ny * (PUSH_FORCE * t) * 0.12 + (Math.random() - 0.5) * 0.20 * t;
        }

     
        it.vx += (-it.offsetX) * EASE;
        it.vy += (-it.offsetY) * EASE;

  
        it.vx *= 0.88;
        it.vy *= 0.88;

        it.offsetX += it.vx;
        it.offsetY += it.vy;

        it.el.style.transform = `translate(${it.offsetX}px, ${it.offsetY}px) scale(${it.scale})`;
      }

      requestAnimationFrame(animate);
    }


    let resizeTimer = null;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        createPattern();
      }, 150);
    });

    createPattern();
    animate();
  </script>
</body>
</html>
